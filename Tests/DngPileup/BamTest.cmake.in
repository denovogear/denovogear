set(OUTPUT_DIR @CMAKE_CURRENT_BINARY_DIR@/DngPileup)

###############################################################################
# Test if dng-pileup from a bam file (tad)

set(Trio-CMD @DNG_PILEUP_EXE@ -f trio.fasta.gz trio.bam)
set(Trio-WD "@TESTDATA_DIR@/human_trio/")
set(Trio-RESULT 0)
set(Trio-STDOUT
  "126385924"
  "MUP=0\\.17539\;LLD=-23\\.3726\;LLH=-6\\.85898\;MUX=0\\.17539\;MU1P=0\\.17539\;DNT=GGxGG>GT\;DNL=LB-NA12878-Solexa-135852\;DNQ=42\;DNC=100\;DP=148\;AD=123,25\;ADF=63,13\;ADR=60,12\;FS=0\;MQTa=-1\\.32794"
  "0/0:33:0\\.99953[0-9]*,0\\.000470132[0-9]*,5\\.06516[0-9]*e-12:\\.,\\.,\\.:\\.:\\.,\\.:\\.,\\.:\\.,\\.:\\.:\\."
  "0/0:8:0\\.851091[0-9]*,0\\.148909[0-9]*,1\\.61522[0-9]*e-09:\\.,\\.,\\.:\\.:\\.,\\.:\\.,\\.:\\.,\\.:\\.:\\."
  "0/0:5:0\\.675242[0-9]*,0\\.324758[0-9]*,4\\.55258[0-9]*e-15:-7\\.02848[0-9]*,0,-5\\.80309[0-9]*:42:18,24:10,13:8,11:0\\.999933[0-9]*:0\\.999933[0-9]*"
  "0/0:33:0\\.999536[0-9]*,0\\.000464287[0-9]*,1\\.37392[0-9]*e-14:0,-6\\.3672,-16\\.8961[0-9]*:50:50,0:31,0:19,0:3\\.33279[0-9]*e-05:3\\.33279[0-9]*e-05"
  "0/0:8:0\\.851097[0-9]*,0\\.148903[0-9]*,5\\.26064[0-9]*e-12:0,-3\\.86108[0-9]*,-14\\.313[0-9]*:56:55,1:22,0:33,1:3\\.3337[0-9]*e-05:3\\.3337[0-9]*e-05"
)


###############################################################################
# Test if dng-pileup from a bam file (ad)

set(TrioAD-CMD @DNG_PILEUP_EXE@ -o ${OUTPUT_DIR}/trio.ad -f trio.fasta.gz trio.bam)
set(TrioAD-WD "@TESTDATA_DIR@/human_trio/")
set(TrioAD-RESULT 0)

###############################################################################
# Add Tests
include("@CMAKE_CURRENT_SOURCE_DIR@/CheckProcessTest.cmake")

CheckProcessTests(DngPileup.Bam
  Trio
  TrioAD
)
